# üß† Whisper Transcriber Bot

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤ —Å –ø–æ–º–æ—â—å—é OpenAI Whisper API. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç—ã `.mp3`, `.wav`, `.ogg` (Telegram) –∏ –¥—Ä—É–≥–∏–µ. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `audio/`, –ª–æ–≥–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ `logs/`, –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—É—é —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É –≤ `output.txt`.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—É–¥–∏–æ—Ñ–æ—Ä–º–∞—Ç–æ–≤: `.mp3`, `.mp4`, `.mpeg`, `.mpga`, `.m4a`, `.wav`, `.webm`, `.ogg`
- –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è `.ogg` ‚Üí `.wav` —á–µ—Ä–µ–∑ `ffmpeg` (–Ω—É–∂–Ω–æ –¥–ª—è Telegram)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Docker –∏ Docker Compose
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω—ã—Ö –∏ –Ω–µ—É—Å–ø–µ—à–Ω—ã—Ö —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π (`output.log`, `error.log`)
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –∫–æ–¥–∞: `logger.py`, `transcribe.py`

---

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ audio/             # –ü–∞–ø–∫–∞ –¥–ª—è –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ logs/              # –ü–∞–ø–∫–∞ –¥–ª—è –ª–æ–≥–æ–≤
‚îú‚îÄ‚îÄ output.txt         # –§–∞–π–ª —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
‚îú‚îÄ‚îÄ transcribe.py      # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç
‚îú‚îÄ‚îÄ logger.py          # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ Dockerfile         # –û–±—Ä–∞–∑ Docker
‚îú‚îÄ‚îÄ docker-compose.yml # –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫
‚îú‚îÄ‚îÄ .env               # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (API-–∫–ª—é—á)
‚îî‚îÄ‚îÄ requirements.txt   # Python-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

---

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –°–æ–∑–¥–∞–π `.env` —Ñ–∞–π–ª

```env
OPENAI_API_KEY=sk-–≤–∞—à-–∫–ª—é—á
```

### 2. –ü–æ–º–µ—Å—Ç–∏ –∞—É–¥–∏–æ—Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫—É `audio/`

–§–∞–π–ª—ã `.ogg` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ Telegram) —Ç–æ–∂–µ –º–æ–∂–Ω–æ ‚Äî –æ–Ω–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã.

### 3. –°–æ–±–µ—Ä–∏ –∏ –∑–∞–ø—É—Å—Ç–∏ —á–µ—Ä–µ–∑ Docker

```bash
docker-compose up --build
```

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞:

- —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –≤ `output.txt`
- –ª–æ–≥–∏ –≤ `logs/output.log` –∏ `logs/error.log`

---

## üß∞ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### `requirements.txt`

```txt
openai==1.68.2
```

### `Dockerfile`

```dockerfile
FROM python:3.9-slim

WORKDIR /app

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –≤–∫–ª—é—á–∞—è ffmpeg
RUN apt-get update && \
    apt-get install -y ffmpeg && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

COPY requirements.txt requirements.txt
RUN pip install --no-cache-dir -r requirements.txt

COPY transcribe.py transcribe.py
COPY logger.py logger.py

CMD ["python", "transcribe.py"]
```

---

## üê≥ docker-compose.yml

```yaml
version: "3.8"

services:
  transcriber:
    build: .
    env_file:
      - .env
    volumes:
      - ./audio:/app/audio
      - ./logs:/app/logs
      - type: bind
        source: ./output.txt
        target: /app/output.txt
```

---

## üìã –õ–æ–≥–∏

- `logs/output.log` ‚Äî —É—Å–ø–µ—à–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (DEBUG + INFO)
- `logs/error.log` ‚Äî –æ—à–∏–±–∫–∏ (WARNING + ERROR)
- –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `logger.py`

---

## üß™ –ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º/—Å–∫–∞—á–∏–≤–∞–µ–º –ø—Ä–æ–µ–∫—Ç
# –ü–æ–º–µ—â–∞–µ–º –∞—É–¥–∏–æ –≤ –ø–∞–ø–∫—É ./audio
# –°–æ–∑–¥–∞—ë–º .env —Å API-–∫–ª—é—á–æ–º
# –ó–∞–ø—É—Å–∫–∞–µ–º:
docker-compose up --build
```

---

## üìé –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –î–ª—è `.ogg` —Ñ–∞–π–ª–æ–≤ —Ç—Ä–µ–±—É–µ—Ç—Å—è `ffmpeg` ‚Äî –æ–Ω —É–∂–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ Dockerfile.
- `output.txt` –±—É–¥–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ.
- Whisper API —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –∏ –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö.

---

## üìú –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
